"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6907],{6907:(y,l,i)=>{i.r(l),i.d(l,{LobbyPageModule:()=>b});var c=i(2200),p=i(4341),s=i(7343),g=i(8132),e=i(3664),f=i(6997),m=i(6455),u=i(1562);const h=()=>[1,2,3,4];function v(o,t){if(1&o&&(e.j41(0,"div",36),e.nrm(1,"ion-icon",37),e.j41(2,"div",38)(3,"span",39),e.EFF(4),e.k0s(),e.j41(5,"span",40),e.EFF(6,"READY"),e.k0s()()()),2&o){const M=t.$implicit;e.R7$(4),e.JRh(M.username)}}function F(o,t){1&o&&(e.j41(0,"div",41),e.nrm(1,"ion-icon",42),e.j41(2,"span",39),e.EFF(3,"Waiting..."),e.k0s()())}let C=(()=>{var o;class t{constructor(a,n,r){this.wsService=a,this.playerService=n,this.router=r,this.playersJoin=[],this.currentUserName=""}ngOnInit(){console.log("LobbyPage initialized \u2014 subscribing to lobby updates");const a=this.playerService.getCurrentUser();if(!a)return console.warn("No current user found, redirecting to login..."),void this.router.navigate(["/home"]);this.currentUserName=a.username,this.wsService.connect(()=>{const n=this.playerService.getCurrentUser();n&&this.wsService.joinLobby(n)}),this.wsService.playerJoined$.subscribe(n=>{if(!n)return;const r=this.playerService.getCurrentUser();r&&n.username===r.username&&this.playerService.setCurrentUser(n)}),this.wsService.players$.subscribe(n=>{this.playersJoin=n,console.log("Lobby players updated:",this.playersJoin)}),this.wsService.rooms$.subscribe(n=>{const r=n[n.length-1];r.players.some(x=>x.username===this.currentUserName)&&(console.log("Auto\u2011joining room",r.roomId),this.router.navigate(["/room",r.roomId],{state:{room:r}}))})}static#e=o=()=>(this.\u0275fac=function(n){return new(n||t)(e.rXU(f.H),e.rXU(m.x),e.rXU(u.Ix))},this.\u0275cmp=e.VBU({type:t,selectors:[["app-lobby"]],standalone:!1,decls:97,vars:6,consts:[[1,"divine-background",3,"fullscreen"],[1,"main-wrapper"],[1,"main-header"],[1,"sun-icon"],["name","sunny"],[1,"game-title"],[1,"dashboard-row"],[1,"dash-column"],[1,"dash-card"],[1,"label"],[1,"val-name"],[1,"val-sub"],[1,"status-container"],["name","crescent",1,"divine-spinner"],[1,"split-container"],[1,"sidebar-entrants"],[1,"divine-lore-card","height-fill"],[1,"side-title"],[1,"player-stack"],["class","p-row",4,"ngFor","ngForOf"],["class","p-row empty",4,"ngFor","ngForOf"],[1,"main-rules"],[1,"lore-title-large"],[1,"rules-grid-large"],[1,"rule-item-large"],[1,"rule-bullet"],["name","copy"],["name","git-compare"],["name","megaphone"],[1,"action-guide-large"],[1,"action-header-large"],[1,"action-grid-large"],[1,"a-pill","skip"],[1,"a-pill","reverse"],[1,"a-pill","draw2"],[1,"a-pill","wild"],[1,"p-row"],["name","person-circle",1,"p-icon"],[1,"p-text"],[1,"p-name"],[1,"p-status"],[1,"p-row","empty"],["name","hourglass-outline",1,"p-icon"]],template:function(n,r){1&n&&(e.j41(0,"ion-content",0)(1,"div",1)(2,"header",2)(3,"div",3),e.nrm(4,"ion-icon",4),e.k0s(),e.j41(5,"h1",5),e.EFF(6,"TIMELESS ORBIT"),e.k0s(),e.j41(7,"div",3),e.nrm(8,"ion-icon",4),e.k0s()(),e.j41(9,"div",6)(10,"div",7)(11,"div",8)(12,"span",9),e.EFF(13,"EXPLORER"),e.k0s(),e.j41(14,"h2",10),e.EFF(15),e.k0s(),e.j41(16,"p",11),e.EFF(17,"Lobby Active"),e.k0s()()(),e.j41(18,"div",7)(19,"div",8)(20,"span",9),e.EFF(21,"MATCHMAKING"),e.k0s(),e.j41(22,"div",12),e.nrm(23,"ion-spinner",13),e.k0s(),e.j41(24,"p",11),e.EFF(25,"FINDING PLAYERS"),e.k0s()()(),e.j41(26,"div",7)(27,"div",8)(28,"span",9),e.EFF(29,"READY"),e.k0s(),e.j41(30,"h2",10),e.EFF(31),e.k0s(),e.j41(32,"p",11),e.EFF(33,"MIN 2 TO START"),e.k0s()()()(),e.j41(34,"div",14)(35,"aside",15)(36,"section",16)(37,"h2",17),e.EFF(38,"\u{1f300} LOBBY"),e.k0s(),e.j41(39,"div",18),e.DNE(40,v,7,1,"div",19)(41,F,4,0,"div",20),e.k0s()()(),e.j41(42,"main",21)(43,"section",16)(44,"h2",22),e.EFF(45,"\u{1f4dc} HOW TO PLAY"),e.k0s(),e.j41(46,"div",23)(47,"div",24)(48,"div",25),e.nrm(49,"ion-icon",26),e.k0s(),e.j41(50,"p"),e.EFF(51,"Every explorer starts with "),e.j41(52,"strong"),e.EFF(53,"5 Divine Cards"),e.k0s(),e.EFF(54," in their hand."),e.k0s()(),e.j41(55,"div",24)(56,"div",25),e.nrm(57,"ion-icon",27),e.k0s(),e.j41(58,"p"),e.EFF(59,"Match your card with the "),e.j41(60,"strong"),e.EFF(61,"Ara (Epoch)"),e.k0s(),e.EFF(62," or "),e.j41(63,"strong"),e.EFF(64,"Color"),e.k0s(),e.EFF(65," of the center pile."),e.k0s()(),e.j41(66,"div",24)(67,"div",25),e.nrm(68,"ion-icon",28),e.k0s(),e.j41(69,"p"),e.EFF(70,"When you have only "),e.j41(71,"strong"),e.EFF(72,"1 Card left"),e.k0s(),e.EFF(73,", shout "),e.j41(74,"strong"),e.EFF(75,'"Jai Jinendra"'),e.k0s(),e.EFF(76," to win!"),e.k0s()()(),e.j41(77,"div",29)(78,"h4",30),e.EFF(79,"\u2728 DIVINE ACTION CARDS"),e.k0s(),e.j41(80,"div",31)(81,"div",32)(82,"strong"),e.EFF(83,"SKIP:"),e.k0s(),e.EFF(84," Stops the next player's turn"),e.k0s(),e.j41(85,"div",33)(86,"strong"),e.EFF(87,"REVERSE:"),e.k0s(),e.EFF(88," Flips the direction of play"),e.k0s(),e.j41(89,"div",34)(90,"strong"),e.EFF(91,"DRAW +2:"),e.k0s(),e.EFF(92," Next player takes 2 cards"),e.k0s(),e.j41(93,"div",35)(94,"strong"),e.EFF(95,"WILD:"),e.k0s(),e.EFF(96," Change the current Ara Era"),e.k0s()()()()()()()()),2&n&&(e.Y8G("fullscreen",!0),e.R7$(15),e.JRh(r.currentUserName),e.R7$(16),e.SpI("",r.playersJoin.length," / 4"),e.R7$(9),e.Y8G("ngForOf",r.playersJoin),e.R7$(),e.Y8G("ngForOf",e.lJ4(5,h).slice(r.playersJoin.length)))},dependencies:[c.Sq,s.W9,s.iq,s.w2],styles:['@charset "UTF-8";[_nghost-%COMP%]{--divine-gold: #B8860B;--vivid-saffron: #FF8C00;--deep-maroon: #800000;--bright-gold: #FFD700}.divine-background[_ngcontent-%COMP%]{--background: radial-gradient(circle at center, #ffffff 0%, #FFF9E6 100%)}.main-wrapper[_ngcontent-%COMP%]{padding:15px;display:flex;flex-direction:column;gap:20px}.main-header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:15px}.main-header[_ngcontent-%COMP%]   .game-title[_ngcontent-%COMP%]{font-size:2.6rem;font-weight:900;color:var(--deep-maroon);letter-spacing:2px}.main-header[_ngcontent-%COMP%]   .sun-icon[_ngcontent-%COMP%]{font-size:3.2rem;color:var(--vivid-saffron)}.dashboard-row[_ngcontent-%COMP%]{display:flex;gap:12px;height:140px}.dash-column[_ngcontent-%COMP%]{flex:1;display:flex}.dash-card[_ngcontent-%COMP%]{width:100%;background:#fff;border:3px solid var(--bright-gold);border-radius:18px;padding:10px;text-align:center;display:flex;flex-direction:column;justify-content:center;align-items:center}.dash-card[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.85rem;font-weight:800;color:var(--divine-gold)}.dash-card[_ngcontent-%COMP%]   .val-name[_ngcontent-%COMP%]{font-size:1.7rem;color:var(--deep-maroon);font-weight:900}.dash-card[_ngcontent-%COMP%]   .val-sub[_ngcontent-%COMP%]{font-size:.9rem;color:var(--vivid-saffron);font-weight:700}.dash-card[_ngcontent-%COMP%]   .divine-spinner[_ngcontent-%COMP%]{--color: var(--vivid-saffron);width:30px;height:30px}.split-container[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:stretch}.sidebar-entrants[_ngcontent-%COMP%]{flex:0 0 28%}.main-rules[_ngcontent-%COMP%]{flex:1}.divine-lore-card[_ngcontent-%COMP%]{background:#fff;border:3px solid var(--bright-gold);border-radius:24px;padding:20px}.divine-lore-card.height-fill[_ngcontent-%COMP%]{height:100%}.side-title[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:900;color:var(--deep-maroon);text-align:center;margin-bottom:15px;border-bottom:2px solid #FFF9E6}.p-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;background:#fffef7;border:1px solid #eee;border-radius:15px;margin-bottom:10px}.p-row[_ngcontent-%COMP%]   .p-icon[_ngcontent-%COMP%]{font-size:2.2rem;color:var(--vivid-saffron)}.p-row[_ngcontent-%COMP%]   .p-name[_ngcontent-%COMP%]{font-weight:800;font-size:1.2rem;color:var(--deep-maroon)}.p-row[_ngcontent-%COMP%]   .p-status[_ngcontent-%COMP%]{font-size:.75rem;color:#2e7d32;font-weight:900}.lore-title-large[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:900;color:var(--deep-maroon);text-align:center;margin-bottom:25px}.rules-grid-large[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;margin-bottom:30px}.rules-grid-large[_ngcontent-%COMP%]   .rule-item-large[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.rules-grid-large[_ngcontent-%COMP%]   .rule-item-large[_ngcontent-%COMP%]   .rule-bullet[_ngcontent-%COMP%]{background:#fff9e6;border-radius:50%;width:50px;height:50px;display:flex;align-items:center;justify-content:center}.rules-grid-large[_ngcontent-%COMP%]   .rule-item-large[_ngcontent-%COMP%]   .rule-bullet[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--vivid-saffron);font-size:2rem}.rules-grid-large[_ngcontent-%COMP%]   .rule-item-large[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1.35rem;font-weight:600;color:#333;line-height:1.4}.rules-grid-large[_ngcontent-%COMP%]   .rule-item-large[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--deep-maroon);font-weight:900}.action-header-large[_ngcontent-%COMP%]{font-size:1.4rem;color:var(--divine-gold);font-weight:900;text-align:center;margin-bottom:15px}.action-grid-large[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:12px}.action-grid-large[_ngcontent-%COMP%]   .a-pill[_ngcontent-%COMP%]{padding:15px 10px;border-radius:15px;font-size:1.1rem;font-weight:700;text-align:center}.action-grid-large[_ngcontent-%COMP%]   .a-pill.skip[_ngcontent-%COMP%]{background:#fff0f0;color:#d32f2f;border:1px solid #FFCACA}.action-grid-large[_ngcontent-%COMP%]   .a-pill.reverse[_ngcontent-%COMP%]{background:#f0f7ff;color:#1976d2;border:1px solid #CADEFF}.action-grid-large[_ngcontent-%COMP%]   .a-pill.draw2[_ngcontent-%COMP%]{background:#fff9e6;color:#b8860b;border:1px solid #FFE6A9}.action-grid-large[_ngcontent-%COMP%]   .a-pill.wild[_ngcontent-%COMP%]{background:#f0fff0;color:#2e7d32;border:1px solid #CCFFCC}@media (max-width: 900px){.split-container[_ngcontent-%COMP%]{flex-direction:column}.sidebar-entrants[_ngcontent-%COMP%]{flex:1}.main-header[_ngcontent-%COMP%]   .game-title[_ngcontent-%COMP%]{font-size:2rem}}']}))}return o(),t})();var d=i(2615);const O=[{path:"",component:C}];let P=(()=>{var o;class t{static#e=o=()=>(this.\u0275fac=function(n){return new(n||t)},this.\u0275mod=e.$C({type:t}),this.\u0275inj=d.G2t({imports:[g.iI.forChild(O),g.iI]}))}return o(),t})(),b=(()=>{var o;class t{static#e=o=()=>(this.\u0275fac=function(n){return new(n||t)},this.\u0275mod=e.$C({type:t}),this.\u0275inj=d.G2t({imports:[c.MD,p.YN,s.bv,P]}))}return o(),t})()}}]);